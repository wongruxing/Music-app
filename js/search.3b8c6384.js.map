{"version":3,"sources":["webpack:///./node_modules/core-js/internals/delete-property-or-throw.js","webpack:///./src/views/Search.vue?19bb","webpack:///./src/views/Search.vue","webpack:///./src/views/Search.vue?a925","webpack:///./node_modules/core-js/modules/es.array.unshift.js"],"names":["tryToString","$TypeError","TypeError","module","exports","O","P","class","_createElementVNode","xlink:href","_hoisted_2","_hoisted_7","aria-hidden","_hoisted_1","_createElementBlock","onClick","_ctx","go","type","placeholder","$data","onKeydown","$options","_hoisted_4","_hoisted_5","_Fragment","item","key","_hoisted_9","i","_hoisted_11","name","ar","item1","index","_hoisted_12","_createVNode","_component_router_link","to","path","query","id","mv","_hoisted_13","_hoisted_14","_hoisted_15","data","keyWorldList","searchKey","searchList","mounted","this","JSON","parse","localStorage","getItem","methods","enterKey","async","unshift","Set","length","splice","setItem","stringify","res","getSearchMusic","result","songs","delHistory","removeItem","searchHistory","console","log","updateIndex","al","picUrl","$store","commit","state","playList","__exports__","render","$","toObject","lengthOfArrayLike","setArrayLength","deletePropertyOrThrow","doesNotExceedSafeInteger","INCORRECT_RESULT","SILENT_ON_NON_WRITABLE_LENGTH","Object","defineProperty","writable","error","target","proto","arity","forced","len","argCount","arguments","k","j"],"mappings":"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","file":"js/search.3b8c6384.js","sourcesContent":["'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Search.vue?vue&type=style&index=0&id=2ee27980&lang=less&scoped=true\"","<template>\r\n  <div class=\"searchTop\">\r\n    <svg class=\"icon liebiao\" aria-hidden=\"true\" @click=\"$router.go(-1)\">\r\n      <use xlink:href=\"#icon-zuojiantou\"></use>\r\n    </svg>\r\n    <input type=\"text\" placeholder=\"王力宏\" v-model=\"searchKey\" @keydown.enter=\"enterKey\">\r\n  </div>\r\n  <div class=\"searchHistory\">\r\n    <span class=\"searchspan\">历史</span>\r\n    <span v-for=\"item in  keyWorldList\" :key=\"item\" class=\"spankey\" @click=\"searchHistory(item)\">{{ item }}</span>\r\n    <svg class=\"icon liebiao\" aria-hidden=\"true\" @click=\"delHistory\">\r\n      <use xlink:href=\"#icon-shanchu\"></use>\r\n    </svg>\r\n  </div>\r\n  <div class=\"itemList\">\r\n    <div class=\"item\" v-for=\"(item, i) in searchList\" :key=\"i\">\r\n      <div class=\"itemLeft\" @click=\"updateIndex(item, i)\">\r\n        <span class=\"leftSpan\">{{ i + 1 }}</span>\r\n        <div>\r\n          <p>{{ item.name }}</p>\r\n          <span v-for=\"(item1, index) in item.ar\" :key=\"index\">{{ item1.name }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"itemRight\">\r\n        <router-link :to=\"{ path: '/itemmv', query: { id: item.mv } }\">\r\n          <svg class=\"icon bofang\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-shipin2\" v-if=\"item.mv != 0\"></use>\r\n          </svg>\r\n        </router-link>\r\n        <svg class=\"icon liebiao\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-todo_list\"></use>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getSearchMusic } from \"@/request/api/home.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      keyWorldList: [],\r\n      searchKey: \"\",\r\n      searchList: [],\r\n      // mvid: ''\r\n    };\r\n  },\r\n  mounted() {\r\n    this.keyWorldList = JSON.parse(localStorage.getItem(\"keyWorldList\"))\r\n      ? JSON.parse(localStorage.getItem(\"keyWorldList\"))\r\n      : [];\r\n  },\r\n  methods: {\r\n    enterKey: async function () {\r\n      if (this.searchKey !== \"\") {\r\n        this.keyWorldList.unshift(this.searchKey);\r\n        //   去重\r\n        this.keyWorldList = [...new Set(this.keyWorldList)];\r\n        // 固定长度\r\n        if (this.keyWorldList.length > 10) {\r\n          this.keyWorldList.splice(this.keyWorldList.length - 1, 1);\r\n        }\r\n        localStorage.setItem(\"keyWorldList\", JSON.stringify(this.keyWorldList));\r\n        let res = await getSearchMusic(this.searchKey);\r\n        // console.log(res);\r\n        this.searchList = res.data.result.songs;\r\n        this.searchKey = \"\";\r\n        // this.mvid = res.data.result.songs.mv;\r\n      }\r\n    },\r\n    delHistory: function () {\r\n      localStorage.removeItem(\"keyWorldList\");\r\n      this.keyWorldList = [];\r\n    },\r\n    searchHistory: async function (item) {\r\n      let res = await getSearchMusic(item);\r\n      console.log(res);\r\n      this.searchList = res.data.result.songs;\r\n    },\r\n    updateIndex: function (item) {\r\n      item.al = item.al\r\n      item.al.picUrl = item.al.picUrl\r\n      this.$store.commit(\"pushPlayList\", item)\r\n      this.$store.commit(\"updatePlayListIndex\", this.$store.state.playList.length - 1)\r\n\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.searchTop {\r\n  width: 100%;\r\n  height: 1rem;\r\n  padding: .2rem .2rem;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  input {\r\n    margin-left: .2rem;\r\n    border: none;\r\n    border-radius: .3rem;\r\n    width: 90%;\r\n    height: 100%;\r\n    text-indent: .4rem;\r\n    background-color: #BFC0C4;\r\n  }\r\n}\r\n\r\n.searchHistory {\r\n  width: 100%;\r\n  padding: 0.2rem;\r\n  position: relative;\r\n\r\n  .searchspan {\r\n    font-weight: 700;\r\n  }\r\n\r\n  .spankey {\r\n    padding: .1rem .2rem;\r\n    background-color: rgb(186, 169, 169);\r\n    border-radius: .4rem;\r\n    margin: 0.1rem .2rem;\r\n    display: inline-block;\r\n\r\n  }\r\n\r\n  .icon {\r\n    width: 0.3rem;\r\n    height: 0.3rem;\r\n    position: absolute;\r\n    right: .2rem;\r\n  }\r\n}\r\n\r\n.itemList {\r\n  width: 100%;\r\n  padding: .2rem;\r\n\r\n  .item {\r\n    width: 100%;\r\n    height: 1.4rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    .itemLeft {\r\n      width: 80%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .leftSpan {\r\n        display: inline-block;\r\n        width: 0.2rem;\r\n        text-align: center;\r\n        padding-right: .1rem;\r\n      }\r\n\r\n      div {\r\n        p {\r\n          width: 4.54em;\r\n          height: 0.4rem;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: normal;\r\n          font-weight: 700;\r\n        }\r\n\r\n        span {\r\n          font-weight: 400;\r\n          font-size: .24rem;\r\n          color: #9999;\r\n        }\r\n\r\n        margin-left: .3rem;\r\n      }\r\n    }\r\n\r\n    .itemRight {\r\n      width: 20%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      position: relative;\r\n\r\n\r\n      .bofang {\r\n        position: absolute;\r\n        left: 0;\r\n      }\r\n\r\n      .liebiao {\r\n        position: absolute;\r\n        right: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./Search.vue?vue&type=template&id=2ee27980&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport \"./Search.vue?vue&type=style&index=0&id=2ee27980&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/wangruxing/Desktop/wrx-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ee27980\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar SILENT_ON_NON_WRITABLE_LENGTH = !function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: INCORRECT_RESULT || SILENT_ON_NON_WRITABLE_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n"],"sourceRoot":""}